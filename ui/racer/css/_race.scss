:root {
  --track-height: 25px;
  --car-width: 4rem;
  --car-ratio: 0.328;
  --c-bg-position-y: 2px;
  --road-image: url(../images/racer/road1.webp);
  --road-scroll-speed: 1s;
  --score-color: #bbb;
  --boost-color: #fff;
  --first-color: #ff0000; // Example color for first place
  --boost-animation-duration: 0.1s;
}

.racer__race {
  @extend %box-neat;
  overflow: hidden;
  position: relative;
  background: $c-bg-box;
  font-size: 0.9em;

  &::before,
  &__tracks {
    position: absolute;
    top: 0;
    left: 0; // Use left instead of inline-start for better compatibility
  }

  &::before {
    content: '';
    z-index: 0;
    width: 130%;
    height: 100%;
    background-image: var(--road-image);
    background-repeat: repeat;
    background-position-y: 7px;
    animation: road-scroll var(--road-scroll-speed) linear infinite;

    @include if-rtl {
      animation: road-scroll-rtl var(--road-scroll-speed) linear infinite;
    }
  }

  @keyframes road-scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-101px);
    }
  }

  @keyframes road-scroll-rtl {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(101px);
    }
  }

  &__tracks {
    padding: 7px 10px;
    width: 100%;
  }

  &__track {
    position: relative;
    height: var(--track-height);
    z-index: 1;
    margin-inline-end: 140px;
  }

  &__score {
    @extend %flex-center;
    direction: ltr;
    font-family: 'storm';
    font-size: 20px;
    justify-content: flex-end;
    position: absolute;
    top: 0;
    right: -140px; // Use right instead of inline-end for better compatibility
    color: var(--score-color);
    width: 3.8ch;
    padding-right: 0.8ch;
    padding-top: 0.2em;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    transition: color ease-out 0.5s;

    .racer__race__track--boost & {
      transition: none;
      color: var(--boost-color);
    }

    .racer__race__track--first & {
      color: var(--first-color);
    }
  }

  &__player {
    @extend %flex-center-nowrap;
    @extend %zen;

    height: 100%;
    transition: transform 4s;

    &__name {
      margin-inline-start: 1ch;
      white-space: nowrap;
    }

    &__car {
      position: relative;
      flex: 0 0 var(--car-width);
      font-family: 'racer-car';
      height: calc(var(--car-width) * var(--car-ratio));
      font-size: var(--car-width);
      line-height: 0;
      text-shadow: -1px 1px 2px #000;
      transform: scaleX(1) translateX(0px);

      @include if-rtl {
        transform: scaleX(-1) translateX(0px);
      }

      transition: all 0.9s ease-out;

      .racer__race__track--boost & {
        transform: translateX(6px) scaleX(0.95) skewX(7deg) rotate(-3deg);
        
        @include if-rtl {
          transform: translateX(6px) scaleX(-0.95) skewX(7deg) rotate(-3deg);
        }

        transition: all 0.15s ease-out;

  

    
